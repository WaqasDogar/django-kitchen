{% load static %}
{% load tag_library %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Royal Kitchen</title>

	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="">
	<meta name="description" content="">

	<style type="text/css">
        .highlighted
        {
            background-color: yellow;
        }
        .highlight
        {
            background-color: #fff34d;
            -moz-border-radius: 5px; /* FF1+ */
            -webkit-border-radius: 5px; /* Saf3-4 */
            border-radius: 5px; /* Opera 10.5, IE 9, Saf5, Chrome */
            -moz-box-shadow: 0 1px 4px rgba(0, 0, 0, 0.7); /* FF3.5+ */
            -webkit-box-shadow: 0 1px 4px rgba(0, 0, 0, 0.7); /* Saf3.0+, Chrome */
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.7); /* Opera 10.5+, IE 9.0 */
        }
        .highlight
        {
            padding: 1px 4px;
            margin: 0 -4px;
        }
    </style>
<!--

Template 2076 Royal Kitchen

http://www.tooplate.com/view/2076-Royal Kitchen

-->
	<link rel="stylesheet" href="{% static 'Myapp/css/bootstrap.min.css'%}">
	<link rel="stylesheet" href="{% static 'Myapp/css/animate.min.css'%}">
	<link rel="stylesheet" href="{% static 'Myapp/css/font-awesome.min.css'%}">
	<link rel="stylesheet" href="{% static 'Myapp/css/nivo-lightbox.css'%}">
	<link rel="stylesheet" href="{% static 'Myapp/css/nivo_themes/default/default.css'%}">
	<link rel="stylesheet" href="{% static 'Myapp/css/style.css'%}">
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,500' rel='stylesheet' type='text/css'>

	<script>
        function printDiv() {
            var divContents = document.getElementById("GFG").innerHTML;
            var a = window.open('', '', 'height=500, width=500');
            a.document.write('<html>');
            a.document.write('<body > <h1>Div contents are <br>');
            a.document.write(divContents);
            a.document.write('</body></html>');
            a.document.close();
            a.print();
        }
		</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
	function searchAndHighlight(searchTerm, selector) {
		if (searchTerm) {               
			var selector = selector || "#realTimeContents"; //use body as selector if none provided
			var searchTermRegEx = new RegExp(searchTerm, "ig");
			var matches = $(selector).text().match(searchTermRegEx);
			if (matches != null && matches.length > 0) {
				$('.highlighted').removeClass('highlighted'); //Remove old search highlights 

				//Remove the previous matches
				$span = $('#realTimeContents span');
				$span.replaceWith($span.html());

				if (searchTerm === "&") {
					searchTerm = "&amp;";
					searchTermRegEx = new RegExp(searchTerm, "ig");
				}
				$(selector).html($(selector).html().replace(searchTermRegEx, "<span class='match'>" + searchTerm + "</span>"));
				$('.match:first').addClass('highlighted');

				var i = 0;

				$('.next_h').off('click').on('click', function () {
					i++;

					if (i >= $('.match').length) i = 0;

					$('.match').removeClass('highlighted');
					$('.match').eq(i).addClass('highlighted');
					$('.ui-mobile-viewport').animate({
						scrollTop: $('.match').eq(i).offset().top
					}, 300);
				});
				$('.previous_h').off('click').on('click', function () {

					i--;

					if (i < 0) i = $('.match').length - 1;

					$('.match').removeClass('highlighted');
					$('.match').eq(i).addClass('highlighted');
					$('.ui-mobile-viewport').animate({
						scrollTop: $('.match').eq(i).offset().top
					}, 300);
				});




				if ($('.highlighted:first').length) { //if match found, scroll to where the first one appears
					$(window).scrollTop($('.highlighted:first').position().top);
				}
				return true;
			}
		}
		return false;
	}

	$(document).on('click', '.searchButtonClickText_h', function (event) {

		$(".highlighted").removeClass("highlighted").removeClass("match");
		if (!searchAndHighlight($('.textSearchvalue_h').val())) {
			alert("No results found");
		}


	});
</script>

</head>

<body>
	
<!-- preloader section -->
<section class="preloader">
	<div class="sk-spinner sk-spinner-pulse"></div>
</section>

<!-- navigation section -->
<section class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
		<div class="navbar-header">
			<button class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="icon icon-bar"></span>
				<span class="icon icon-bar"></span>
				<span class="icon icon-bar"></span>
			</button>
			<a href="#" class="navbar-brand">Royal Kitchen Admin</a>
		</div>
		<div class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				<li><a href="#home" class="smoothScroll">HOME</a></li>
				<li><a href="#Orders" class="smoothScroll">ORDERS</a></li>
				<li><a href="#gallery" class="smoothScroll">FOOD GALLERY</a></li>
				<li><a href="#menu" class="smoothScroll">SPECIAL MENU</a></li>
				<li><a href="#team" class="smoothScroll">CHEFS</a></li>
				<li><a href="#contact" class="smoothScroll">CONTACT</a></li>
				{% if user.is_authenticated %}
				<li><a class="smoothScroll">Logged in as {{ request.user }}</a></li>
				<a href="{% url 'logout' %}" class="btn btn-danger" style="margin-top:2%;">LogOut</a>
				{% else %}
				<a href="{% url 'signin' %}" class="btn btn-success" style="margin-top:2%;">LogIn</a>
		    	<!--<a href="{% url 'signin' %}" class="btn btn-success" style="margin-top:2%;">LogIn</a> -->	
				{% endif %}
			</ul>
		</div>
	</div>
</section>

<!-- home section -->
<section id="home" class="parallax-section">
	<div class="container">
		<div class="row">
			<div class="col-md-12 col-sm-12">
				<h1>ROYAL KITCHEN RESTAURANT</h1>
				<h2>Wellcome to Admin Portal</h2>
				<a class="smoothScroll btn btn-default">TOTAL SALES:{{ts}}</a>
				<a class="smoothScroll btn btn-default">CUSTOMERES:{{unum}}</a>
				<br>
				<a class="smoothScroll btn btn-default">ORDER APPROVED:{{tap}}</a>
				<a class="smoothScroll btn btn-default">ORDER REJECTED:{{trej}}</a>
				<a class="smoothScroll btn btn-default">ORDER PENDING:{{tp}}</a>
			</div>
		</div>
	</div>		
</section>
<div id="realTimeContents">
<!-- Order section -->
<section id="Orders" class="parallax-section">
	<div class="container" style="font-family: Verdana, Geneva, Tahoma, sans-serif;">
		
		<div class="col-md-offset-2 col-md-8 col-sm-12 text-center" >
			<h1 class="heading">Orders</h1>
			<hr>

			<div class="searchContend_h" >
				<div class="ui-grid-c">
					<div class="ui-block-a">
						<input name="text-12" id="text-12" value="" type="text" class="textSearchvalue_h" placeholder="Search..." style="margin-top: 1%; margin-bottom: 1%;" >
					</div>
					<div class="ui-block-b">
						<button class="searchButtonClickText_h" style="background:white;border-radius: 15%;border: 2px solid #131212;color:rgb(3, 3, 3);font-weight: bold;letter-spacing: 2px;padding: 5px 10px;margin-top: 0%; transition: all 0.4s ease-in-out;" type="submit">Search</button>
					</div>
					<div class="ui-block-c">
						<button class="next_h" style="background:white;border-radius: 15%;border: 2px solid #131212;color:rgb(3, 3, 3);font-weight: bold;letter-spacing: 2px;padding: 5px 10px;margin-top: 0%; transition: all 0.4s ease-in-out;" type="submit">Next</button>
					</div>
					<div class="ui-block-d">
						<button class="previous_h" style="background:white;border-radius: 15%;border: 2px solid #131212;color:rgb(3, 3, 3);font-weight: bold;letter-spacing: 2px;padding: 5px 10px;margin-top: 0%; transition: all 0.4s ease-in-out;" type="submit">Back</button>
					</div>
				</div>
			</div>

		</div>

		<div style="margin-bottom: 5%;"></div>
		<br> <br> <br> <br> <br> <br><br><br><br>

		<div class="row" >

			{% for data in order reversed %}
			
			<div style="float:initial; border-style:groove; border-radius: 5%;">
				
				<p style="font-family: Verdana, Geneva, Tahoma, sans-serif;">Status | {{ data.status }}</p>

			    	{% if data.status == 'Approved' or data.status == 'Rejected' %}
					{{pass}}
					{% else %}
					<a href="{% url 'Approve' data.id data.Name_Costomer %}" class="btn btn-primary" >Approve</a>
					<a href="{% url 'Reject' data.id data.Name_Costomer %}" class="btn btn-primary"  onclick="return confirm('Order will be rejected are you sure?')">Reject</a>
					{% endif %}

			    	<h4 style="color:rgb(15, 15, 15); text-align: center;">Order#{{data.id}}</h4>

				    <div style="color:rgb(219, 99, 189); border-style: double; border-radius: 5%;">
					
					<h4 style="color:rgb(22, 132, 165);">Total Bill : {{data.GrandTotal}} Rs</h4>
					<h4 style="color:rgb(22, 132, 165);">Customer Username : {{data.Name_Costomer}}</h4>
					<h4 style="color:rgb(22, 132, 165);">Delivery Address : {{data.Address}}</h4>
					<h4 style="color:rgb(22, 132, 165);">Phone No : {{data.Phone}}</h4>
					<h4 style="color:rgb(22, 132, 165);">Email Address : {{ data.Name_Costomer | get_mail }}</h4>
					<p style="color:rgb(22, 132, 165);">Order Time : {{data.EntryDate}}</p>

				</div>

				

			</div>	
		</div>

		<div class="row">
		
			<div class="table-responsive" >
				<table class="table table-bordered">	
		<thead>
			<tr >
				<th scope="col">Product Name</th>
				<th scope="col">Price</th>
				<th scope="col">Quantity</th>
				<th scope="col">Date</th>
			</tr>
		</thead>
	<tbody>
		{% for pro in products reversed %}

		{% if data.id == pro.order|to_int %}
		<tr>
			
			<td> {{pro.name}} </td>
			<td> {{pro.price}} </td>
			<td> {{pro.quantity|floatformat:"0"}} </td>
			<td> {{pro.EntryDate}} </td>
			
		</tr>

		{% endif %}

		{% endfor %}
	</tbody>
	</table>
	</div>

		<div style="margin-top: 5%;"></div>
        {% endfor %}
		</div>

	</div>
</section>

<!-- gallery section -->
<section id="gallery" class="parallax-section">
	<div class="container">
		<div class="row">
			<div class="col-md-offset-2 col-md-8 col-sm-12 text-center">
				<h1 class="heading">Food Gallery</h1>
				<hr>
			</div>

			<div class="col-md-offset-2 col-md-8 col-sm-12 text-center">
				<a onclick="window.open('addpro')" class="btn btn-success"> ADD FOOD</a>
				<hr>
			</div>

			
            {% for data in product %}
			<div class="col-md-4 col-sm-4 wow fadeInUp" data-wow-delay="0.3s">
                
				<a href="{{data.image.url}}">
                    <img src={{data.image.url}} alt="gallery img" height="300" width="200" style="border-radius: 10%;">
                </a>
                
				<div>
					<h3>{{data.name}}</h3>
					
					<span>{{data.price}} Rs</span>

				</div>

				<a href="{% url 'updatepro' data.id  %}" class="btn btn-info">Update </a>
                <a href="{% url 'deletepro' data.id %}"  class="btn btn-danger" >Delete</a>
          
			</div>

            {% endfor %}
		</div>
	</div>
</section>

<!-- menu section -->
<section id="menu" class="parallax-section">
	<div class="container">
		<div class="col-md-offset-2 col-md-8 col-sm-12 text-center">
			<h1 class="heading">Special Menu</h1>
			<hr>
		</div>
	</div>
</section>		

<!-- team section -->
<section id="team" class="parallax-section">
	<div class="container">
		<div class="row">
			<div class="col-md-offset-2 col-md-8 col-sm-12 text-center">
				<h1 class="heading">Meet Royal Kitchen chefs</h1>
				<hr>
			</div>
			{% for data in ceo %}
			<div class="col-md-4 col-sm-4 wow fadeInUp" data-wow-delay="0.6s">
				<br>
				<br>
				<br>
				<img src="{{data.Image.url}}" class="img-responsive center-block" alt="team img">
				<h4>{{data.Name}}</h4>
				<h3>{{data.Rank}}</h3>
			</div>
			{% endfor %}
			</div>
		</div>
</section>



<!-- contact section -->
<section id="contact" class="parallax-section">
	<div class="container">
		<div class="row">
			<div class="col-md-offset-1 col-md-10 col-sm-12 text-center">
				<h1 class="heading">Contact Us</h1>
				<hr>
			</div>
			<div class="col-md-offset-1 col-md-10 col-sm-12 wow fadeIn" data-wow-delay="0.9s">
				
				<form action="" method="post">
					{% csrf_token %}
					<div class="col-md-6 col-sm-6">
						<input name="Name" type="text" class="form-control" id="id_Name" placeholder="Name">
				  </div>
					<div class="col-md-6 col-sm-6">
						<input name="Email" type="email" class="form-control" id="id_Email" placeholder="Email">
				  </div>
					<div class="col-md-12 col-sm-12">
						<textarea name="Message" rows="8" class="form-control" id="id_Message" placeholder="Message"></textarea>
					</div>
					<div class="col-md-offset-3 col-md-6 col-sm-offset-3 col-sm-6">
						<input name="save" type="submit" class="form-control" value="Make a reservation">
					</div>
				</form>
			</div>
		</div>
	</div>
</section>


<!-- footer section -->
<footer class="parallax-section">
	<div class="container">
		<div class="row">
			<div class="col-md-4 col-sm-4 wow fadeInUp" data-wow-delay="0.6s">
				<h2 class="heading">Contact Info.</h2>
				
				<div class="ph">
					<p><i class="fa fa-phone"></i> Phone</p>
					{% for data in webset %}
					<h4>{{ data.Phone }}</h4>
					{% endfor %}
				</div>
				
				<div class="address">
					<p><i class="fa fa-map-marker"></i> Our Location</p>
					<h4>{{ max.Location }}</h4>
				</div>
			</div>
			<div class="col-md-4 col-sm-4 wow fadeInUp" data-wow-delay="0.6s">
				<h2 class="heading">Open Hours</h2>
			    	{% for data in webset %}
					<p>{{ data.Day }}<span>{{ data.OpeningTime }}- {{ data.ClosingTime }}</span></p>
					{% endfor %}
			</div>
			<div class="col-md-4 col-sm-4 wow fadeInUp" data-wow-delay="0.6s">
				<h2 class="heading">Follow Us</h2>
				<ul class="social-icon">
					<li><a href="{{ max.FbLink }}" class="fa fa-facebook wow bounceIn" data-wow-delay="0.3s"></a></li>
					<li><a href="{{ max.TwitterLink }}" class="fa fa-twitter wow bounceIn" data-wow-delay="0.6s"></a></li>
					<li><a href="{{ max.LinkedInLink }}" class="f4 fa4-linkedin wow bounceIn" data-wow-delay="0.9s"></a></li>
					<li><a href="{{ max.GitLink }}" class="fa fa-github wow bounceIn" data-wow-delay="0.9s"></a></li>
				</ul>
			</div>
		</div>
	</div>
</footer>


<!-- copyright section -->
<section id="copyright">
	<div class="container">
		<div class="row">
			<div class="col-md-12 col-sm-12">
				<h3>Royal Kitchen</h3>
				<p>Copyright © Royal Kitchen Restaurant              
			</div>
		</div>
	</div>
</section>

</div>
<!-- JAVASCRIPT JS FILES -->	
<script src="{% static 'Myapp/js/jquery.js'%}"></script>
<script src="{% static 'Myapp/js/bootstrap.min.js'%}"></script>
<script src="{% static 'Myapp/js/jquery.parallax.js'%}"></script>
<script src="{% static 'Myapp/js/smoothscroll.js'%}"></script>
<script src="{% static 'Myapp/js/nivo-lightbox.min.js'%}"></script>
<script src="{% static 'Myapp/js/wow.min.js'%}"></script>
<script src="{% static 'Myapp/js/custom.js'%}"></script>


</body>

</html>
